Software Requirements Specification (SRS)
Secure Notes Web App - Catatan Pribadi Terenkripsi
1. PENDAHULUAN
1.1 Tujuan Dokumen
Dokumen ini mendefinisikan spesifikasi lengkap untuk pengembangan Secure Notes Web App, aplikasi web untuk membuat dan menyimpan catatan pribadi dengan enkripsi end-to-end.

1.2 Ruang Lingkup
Aplikasi ini adalah platform web yang memungkinkan user untuk:

Membuat, membaca, memperbarui, dan menghapus catatan pribadi
Menyimpan catatan dengan enkripsi tingkat tinggi
Autentikasi dan manajemen akun user
Akses multi-device dengan sinkronisasi aman
1.3 Definisi dan Singkatan
AES-GCM: Advanced Encryption Standard dengan Galois/Counter Mode
PBKDF2: Password-Based Key Derivation Function 2
IV: Initialization Vector
Salt: Random data untuk key derivation
End-to-End Encryption: Enkripsi di client, server hanya menerima data terenkripsi
Zero-Knowledge: Server tidak memiliki akses ke plaintext data user
2. DESKRIPSI PRODUK
2.1 Perspektif Produk
Secure Notes adalah aplikasi web standalone yang bertujuan menyediakan platform aman untuk menyimpan catatan pribadi dengan enkripsi client-side.

2.2 Fitur Utama
User Authentication: Register, login, logout dengan password hashing aman
Note Management: CRUD operations untuk catatan
Client-Side Encryption: Semua catatan dienkripsi di browser sebelum dikirim ke server
Secure Key Derivation: Password dikonversi menjadi kunci enkripsi menggunakan PBKDF2
Zero-Knowledge Architecture: Server hanya menyimpan data terenkripsi
2.3 Karakteristik User
Individual users yang menginginkan privasi tinggi
User dengan pengetahuan teknis dasar hingga menengah
Usia 18+ tahun
3. KEBUTUHAN FUNGSIONAL
3.1 Modul User Management
3.1.1 Registrasi User
FR-1.1: Sistem harus menyediakan form registrasi dengan field:

Email (unique, valid format)
Password (minimum 12 karakter, kombinasi upper, lower, digit, special char)
Confirm Password
Nama Lengkap (opsional)
FR-1.2: Pada saat registrasi:

Generate salt untuk user
Derivasi password menggunakan PBKDF2 (100.000 iterasi)
Simpan hash password di database
Generate dan simpan public key untuk verifikasi
FR-1.3: Sistem mengirimkan email verifikasi (optional) sebelum akun aktif

3.1.2 Login User
FR-2.1: User login dengan email dan password FR-2.2: Sistem verifikasi password terhadap hash di database FR-2.3: Jika berhasil, generate JWT token dengan masa berlaku 24 jam FR-2.4: Token disimpan di client (httpOnly cookie atau localStorage) FR-2.5: User tidak dapat login jika akun belum terverifikasi (jika fitur verifikasi aktif)

3.1.3 Logout User
FR-3.1: User dapat logout dengan satu klik FR-3.2: Token JWT dihapus dari client dan server (blacklist) FR-3.3: Session berakhir dan user diarahkan ke halaman login

3.1.4 Manajemen Profil
FR-4.1: User dapat melihat profil mereka (email, nama lengkap, tanggal registrasi) FR-4.2: User dapat mengubah nama lengkap FR-4.3: User dapat mengubah password lama dengan password baru FR-4.4: Saat mengubah password:

Verifikasi password lama terlebih dahulu
Re-encrypt semua catatan yang sudah ada dengan kunci baru
Update hash password di database
3.2 Modul Note Management
3.2.1 Membuat Catatan (Create)
FR-5.1: User dapat membuat catatan baru dengan form:

Judul catatan (required, max 255 karakter)
Isi catatan (required, max 50.000 karakter)
Tag/Kategori (opsional, max 5 tag)
FR-5.2: Pada client-side:

Generate random IV (16 bytes) dan salt (16 bytes)
Derivasi key dari password user menggunakan PBKDF2
Encrypt judul + isi menggunakan AES-256-GCM
Append authentication tag untuk integritas
FR-5.3: Data yang dikirim ke server:

json
{
  "encrypted_content": "base64_encoded_ciphertext",
  "iv": "base64_encoded_iv",
  "auth_tag": "base64_encoded_tag",
  "created_at": "2025-11-20T10:00:00Z"
}
FR-5.4: Server menyimpan data terenkripsi di database dengan:

User ID (foreign key)
Encrypted content
IV
Auth tag
Timestamp created/updated
Catatan belum punya plaintext content
3.2.2 Membaca Catatan (Read)
FR-6.1: User dapat melihat daftar semua catatan mereka dengan:

Preview judul (dari plaintext title field jika ada)
Atau "Untitled Note" jika tidak ada judul
Timestamp created/updated
FR-6.2: User dapat membuka satu catatan untuk melihat isi lengkapnya:

Client download encrypted content dari server
Derivasi key dari password user (harus input/sudah login)
Decrypt menggunakan IV dan auth tag yang disimpan
Tampilkan judul dan isi di UI
FR-6.3: Jika decryption gagal:

Tampilkan error message
Jangan tampilkan plaintext data
3.2.3 Memperbarui Catatan (Update)
FR-7.1: User dapat edit judul dan isi catatan yang sudah ada

FR-7.2: Pada client-side:

Generate random IV baru
Encrypt judul + isi baru dengan AES-256-GCM
Kirim encrypted content + IV + auth tag ke server
FR-7.3: Server menerima update:

Update encrypted_content, IV, auth_tag
Update timestamp updated_at
Jangan simpan plaintext apapun
FR-7.4: Sistem mencatat history perubahan (optional):

Timestamp perubahan
User yang melakukan perubahan
Tidak menyimpan plaintext dari versi lama
3.2.4 Menghapus Catatan (Delete)
FR-8.1: User dapat menghapus satu catatan dengan konfirmasi

FR-8.2: Server:

Soft delete catatan (tandai is_deleted = true dan deleted_at timestamp)
Atau hard delete immediate (permanent remove dari database)
FR-8.3: Catatan yang dihapus tidak tampil di daftar catatan user

3.2.5 Search Catatan
FR-9.1: User dapat search catatan berdasarkan:

Kata kunci dalam judul (jika judul plain text)
Tag/Kategori
FR-9.2: Limitation:

Jika seluruh content encrypted, search hanya bisa pada field yang plain text (judul, tag)
Atau user harus decrypt semua catatan di client untuk search full-text
3.3 Modul Security & Encryption
3.3.1 Key Derivation
FR-10.1: Implementasi PBKDF2 dengan parameter:

Hash function: SHA-256
Iterations: 100.000
Salt length: 16 bytes (unique per user)
Output key length: 32 bytes
FR-10.2: Proses derivasi:

User input password
Retrieve salt dari user record
Compute: derived_key = PBKDF2(password, salt, 100000, SHA256, 32)
3.3.2 Enkripsi Content
FR-11.1: Implementasi AES-256-GCM:

Key: 32 bytes (dari derivasi PBKDF2)
Mode: Galois/Counter Mode (GCM)
Authentication Tag: 16 bytes (128 bits)
Nonce/IV: 16 bytes (random per encryption)
FR-11.2: Setiap enkripsi harus:

Generate IV baru (cryptographically random)
Menggunakan key yang sama
Produce authentication tag untuk verifikasi integritas
3.3.3 Decryption & Verification
FR-12.1: Pada saat decryption:

User provide password
Derivasi key menggunakan salt yang tersimpan
Attempt decryption dengan IV + auth tag yang tersimpan
Jika auth tag valid, tampilkan plaintext
Jika auth tag invalid, reject decryption
3.3.4 Password Hashing
FR-13.1: Password user di-hash sebelum disimpan:

Gunakan Argon2 atau bcrypt
Salt: automatically handled oleh library
Cost parameter: bcrypt 12, Argon2 iterations=3, parallelism=4
FR-13.2: Password hash digunakan hanya untuk:

Verifikasi saat login
Tidak digunakan untuk derivasi kunci enkripsi note
3.4 Modul API Backend
3.4.1 Authentication Endpoints
FR-14.1: POST /api/auth/register

Input: email, password, confirm_password, name
Output: {success: true/false, message, user_id}
Validasi email format dan password strength
FR-14.2: POST /api/auth/login

Input: email, password
Output: {success: true/false, token, expires_in}
Return JWT token jika autentikasi berhasil
FR-14.3: POST /api/auth/logout

Input: JWT token
Output: {success: true/false, message}
Blacklist token di server
FR-14.4: POST /api/auth/verify-token

Input: JWT token
Output: {valid: true/false, user_id}
Verify token masih berlaku
3.4.2 User Endpoints
FR-15.1: GET /api/user/profile

Require: Valid JWT token
Output: {email, name, created_at, salt}
Salt diperlukan untuk key derivation di client
FR-15.2: PUT /api/user/profile

Input: name
Output: {success: true/false}
Update nama user
FR-15.3: POST /api/user/change-password

Input: old_password_hash (sudah verify di client), new_password_hash
Output: {success: true/false}
Verifikasi old_password_hash terlebih dahulu
3.4.3 Note Endpoints
FR-16.1: POST /api/notes

Require: Valid JWT token
Input: encrypted_content, iv, auth_tag, created_at
Output: {success: true/false, note_id}
Simpan note baru
FR-16.2: GET /api/notes

Require: Valid JWT token
Output: [{note_id, created_at, updated_at, iv, auth_tag, encrypted_content}, ...]
Return semua notes user (encrypted)
FR-16.3: GET /api/notes/{note_id}

Require: Valid JWT token
Output: {note_id, encrypted_content, iv, auth_tag, created_at, updated_at}
Return single note (encrypted)
FR-16.4: PUT /api/notes/{note_id}

Require: Valid JWT token
Input: encrypted_content, iv, auth_tag
Output: {success: true/false}
Update existing note
FR-16.5: DELETE /api/notes/{note_id}

Require: Valid JWT token
Output: {success: true/false}
Delete note (soft atau hard delete)
3.4.4 Error Handling
FR-17.1: Semua endpoint return standard error format:

json
{
  "success": false,
  "error": "Error type",
  "message": "Detailed error message",
  "status_code": 400
}
FR-17.2: HTTP Status codes:

200: Success
201: Created
400: Bad Request
401: Unauthorized
403: Forbidden
404: Not Found
422: Unprocessable Entity
500: Internal Server Error
4. KEBUTUHAN NON-FUNGSIONAL
4.1 Performance
NFR-1: Aplikasi harus load dalam < 3 detik pada koneksi 4G NFR-2: Encryption/decryption catatan < 500ms untuk catatan 10KB NFR-3: API response time < 200ms pada kondisi normal NFR-4: Database query < 100ms untuk operasi standar

4.2 Security
NFR-5: Semua komunikasi harus menggunakan HTTPS/TLS 1.2+ NFR-6: CORS hanya allow dari domain yang telah di-whitelist NFR-7: Rate limiting: max 5 login attempt per 15 menit per IP NFR-8: Password minimum 12 karakter dengan kriteria strength NFR-9: JWT token expiry: 24 jam untuk regular token, 30 hari untuk refresh token NFR-10: Server tidak boleh menyimpan plaintext user password atau note content NFR-11: CSRF protection pada semua form submission

4.3 Reliability
NFR-12: Uptime target: 99.5% per bulan NFR-13: Database backup otomatis setiap 6 jam NFR-14: Error monitoring dan logging untuk debugging

4.4 Usability
NFR-15: UI harus responsive dan bekerja di desktop, tablet, mobile NFR-16: User dapat membuat note baru dalam max 3 klik NFR-17: Loading state indicator untuk semua async operation NFR-18: Dark mode dan light mode support

4.5 Scalability
NFR-19: Arsitektur harus support minimal 10.000 concurrent users NFR-20: Database harus handle minimum 1 juta notes NFR-21: API dapat di-scale horizontal dengan load balancer

4.6 Maintainability
NFR-22: Code harus documented dengan comments dan docstrings NFR-23: API documentation menggunakan Swagger/OpenAPI NFR-24: Unit tests coverage minimal 80% NFR-25: Deployment dapat dilakukan dengan single command

5. ARSITEKTUR SISTEM
5.1 Frontend (Laravel + Blade/Livewire)
├── routes/
│   ├── web.php (authentication, dashboard routes)
│   └── api.php (API calls ke backend)
├── app/Http/Controllers/
│   ├── AuthController.php
│   ├── DashboardController.php
│   └── NoteController.php
├── resources/views/
│   ├── layouts/app.blade.php
│   ├── auth/
│   │   ├── register.blade.php
│   │   └── login.blade.php
│   └── notes/
│       ├── index.blade.php
│       └── create-edit.blade.php
├── public/js/
│   ├── crypto.js (Web Crypto API wrapper)
│   ├── encryption.js (AES-GCM logic)
│   └── app.js (UI interactions)
└── resources/css/
    └── app.css
5.2 Backend (Python + FastAPI/Flask)
├── app/
│   ├── main.py
│   ├── config.py
│   ├── models/
│   │   ├── user.py
│   │   └── note.py
│   ├── schemas/
│   │   ├── user.py
│   │   └── note.py
│   ├── routes/
│   │   ├── auth.py
│   │   ├── users.py
│   │   └── notes.py
│   ├── services/
│   │   ├── auth_service.py
│   │   ├── encryption_service.py
│   │   └── user_service.py
│   ├── middleware/
│   │   ├── auth_middleware.py
│   │   └── error_handler.py
│   └── utils/
│       ├── security.py (hashing, JWT)
│       └── validators.py
├── tests/
│   ├── test_auth.py
│   ├── test_notes.py
│   └── test_encryption.py
└── requirements.txt
5.3 Database (PostgreSQL)
sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  salt BYTEA NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE notes (
  id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  encrypted_content BYTEA NOT NULL,
  iv BYTEA NOT NULL,
  auth_tag BYTEA NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  is_deleted BOOLEAN DEFAULT FALSE,
  deleted_at TIMESTAMP
);

CREATE TABLE jwt_blacklist (
  id SERIAL PRIMARY KEY,
  token VARCHAR(500) NOT NULL,
  blacklisted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  expires_at TIMESTAMP NOT NULL
);

CREATE INDEX idx_user_notes ON notes(user_id);
CREATE INDEX idx_notes_created ON notes(created_at);
6. IMPLEMENTASI TEKNOLOGI
6.1 Frontend Stack
Framework: Laravel 10+
Templating: Blade (atau Livewire untuk interactivity)
Encryption: Web Crypto API (native browser)
HTTP Client: Axios atau Fetch API
Styling: Tailwind CSS
Frontend Build: Laravel Mix atau Vite
Testing: Pest atau PHPUnit
6.2 Backend Stack
Framework: FastAPI atau Flask
Database: PostgreSQL
ORM: SQLAlchemy
Authentication: PyJWT
Encryption: cryptography library (untuk server-side verification)
Password Hashing: bcrypt atau argon2-cffi
Validation: Pydantic
API Docs: Swagger/OpenAPI
Testing: pytest
Deployment: Docker + Docker Compose
6.3 Infrastructure
Web Server: Nginx (reverse proxy)
Application Server: Gunicorn (Python) + PHP-FPM (Laravel)
Cache: Redis (session cache, token blacklist)
Container: Docker
CI/CD: GitHub Actions atau GitLab CI
7. FLOWCHART UTAMA
7.1 Registration Flow
User → Register Form → Validate Input → 
Hash Password (Argon2) → Generate Salt → 
Send to Backend → Store in DB → Success
7.2 Login Flow
User → Login Form → Verify Password Hash → 
Generate JWT Token → Return Token → 
Store in Client → Redirect to Dashboard
7.3 Create Note Flow
User → Note Form → Input Title & Content → 
Generate IV (client) → Derive Key dari Password (PBKDF2) → 
Encrypt Content (AES-256-GCM) → 
Send {encrypted_content, IV, auth_tag} → 
Backend Store → Success
7.4 Read Note Flow
User → Click Note → Request to Backend → 
Backend Return {encrypted_content, IV, auth_tag} → 
Client Derive Key (PBKDF2) → 
Decrypt Content (AES-256-GCM) → Display Content
8. KEAMANAN DATA
8.1 Data in Transit
HTTPS/TLS 1.2+ untuk semua komunikasi
Certificate pinning (optional untuk mobile)
Secure headers: HSTS, CSP, X-Frame-Options
8.2 Data at Rest
PostgreSQL encryption at rest (pgcrypto atau full-disk encryption)
Encrypted backup storage
Secure secret management (environment variables, secrets manager)
8.3 Data in Use
Zero-Knowledge pada server (hanya encrypted data)
Decryption hanya di client dengan user's password
Memory clearing setelah operasi sensitif (optional)
8.4 Compliance
GDPR ready (data export, deletion, privacy policy)
WCAG 2.1 AA untuk accessibility
Regular security audit dan penetration testing
9. TIMELINE & MILESTONE
Phase	Duration	Deliverable
Setup & Planning	1 week	Architecture doc, DB schema
Backend Development	3 weeks	API, auth, encryption service
Frontend Development	2 weeks	UI, crypto implementation
Integration	1 week	Frontend-Backend integration
Testing & QA	2 weeks	Unit, integration, security tests
Deployment	1 week	Production setup, monitoring
Total	10 weeks	MVP Ready
10. RISK & MITIGATION
Risk	Probability	Impact	Mitigation
Encryption/Decryption Bug	Medium	High	Comprehensive testing, security audit
Password Compromise	Low	Critical	Strong password policy, MFA option
Database Breach	Low	High	Encryption at rest, limited data exposure
Performance Issues	Medium	Medium	Load testing, optimization, caching
Compliance Issues	Low	High	Legal review, privacy policy audit
11. ACCEPTANCE CRITERIA
✅ User dapat register dan login dengan secure password
✅ User dapat create, read, update, delete notes
✅ Semua note content terenkripsi end-to-end (client-side)
✅ Server tidak memiliki akses ke plaintext note content
✅ Encryption/decryption bekerja correct dan cepat (< 500ms)
✅ API response time < 200ms untuk operasi standar
✅ UI responsive di semua device
✅ Semua security requirements terpenuhi
✅ Unit tests coverage minimal 80%
✅ Documentation lengkap dan up-to-date
